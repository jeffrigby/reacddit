# Reacddit Development Environment Configuration
# Copy this file to .env and adjust the values as needed

# ====================
# Proxy Configuration
# ====================

# Domain to serve on (localhost for local development, or custom domain like dev.reacdd.it)
PROXY_DOMAIN=localhost

# Host to bind to (default: 127.0.0.1 for security)
# 127.0.0.1 = localhost only (recommended - not accessible from LAN)
# 0.0.0.0   = all network interfaces (accessible from LAN - use with caution)
PROXY_HOST=127.0.0.1

# HTTPS port for the proxy (5173 is default, use 443 for production-like setup but requires root)
PROXY_PORT=5173

# SSL Certificate paths (leave empty to auto-generate self-signed certificates for localhost)
# For production domains with Let's Encrypt certs, set these paths:
# PROXY_CERT_PATH=/path/to/fullchain.pem
# PROXY_KEY_PATH=/path/to/privkey.pem
PROXY_CERT_PATH=
PROXY_KEY_PATH=

# ====================
# Upstream Servers
# ====================

# Vite development server port (React client)
CLIENT_PORT=3000

# Koa API server port (OAuth backend)
API_PORT=3001

# ====================
# Notes
# ====================

# 1. First time setup:
#    - Copy this file to .env
#    - Run npm install in root, client, api, and proxy directories
#    - Run npm start from root directory
#    - Self-signed certificates will be auto-generated on first run
#
# 2. Using custom domains:
#    - Set PROXY_DOMAIN to your custom domain
#    - Provide cert paths in PROXY_CERT_PATH and PROXY_KEY_PATH
#    - Ensure DNS points to localhost (edit /etc/hosts if needed)
#
# 3. Browser security warnings:
#    - Self-signed certs will trigger browser warnings
#    - Click "Advanced" â†’ "Proceed to localhost" to continue
#    - Or install the cert to your system's trusted certificates
#
# 4. Reddit OAuth Configuration:
#    - See api/.env.dist for Reddit OAuth setup
#    - Callback URL should match your PROXY_DOMAIN and PROXY_PORT
#    - Example: https://localhost:5173/api/callback
